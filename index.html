<!doctype html>
<html lang="pt-BR" data-ng-app="MyCash">
	<head>
		<meta charset="UTF-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">

		<title>Minha Conta</title>

		<link rel="stylesheet" href="css/style.css">

		<script src="lib/angular/angular.js"></script>
		<script src="lib/angular-locale-pt-br/angular-locale_pt-br.js"></script>

		<script src="js/app.js"></script>
		<script src="js/controllers/transaction.ctrl.js"></script>
	</head>

	<body>
		<main data-ng-controller="TranscationCtrl as vm">

			<h1>
				Minha Conta
			</h1>

			<section>
				<form name="vm.transcationForm"
					data-ng-submit="vm.saveTransaction(vm.transaction);">

					<input id="sake" type="radio"
						data-ng-model="vm.transaction.type"
						checked
						value="Saque">
					<label for="sake">Saque</label>

					<input id="deposit" type="radio"
						data-ng-model="vm.transaction.type"
						value="Depósito">
					<label for="deposit">Depósito</label>

					<label for="value">* Valor</label>
					<input id="value" class="form-control" type="number"
						required min="1" step="0.01"
						pattern="[0-9]+([\.,][0-9]+)?"
						data-ng-model="vm.transaction.value">

					<button class="btn btn-primary btn-block">
						Adicionar
					</button>

				</form>
			</section>

			<section class="jumbotron radius">
				<input class="form-control" type="search"
					placeholder="Busca"
					data-ng-model-options="{ updatedOn: 'default blur', debounce: { default: 250, blur: 0 }}"
					data-ng-model="searchCriteria">

				<p class="text--center" data-ng-hide="vm.transactions.length">
					Nenhuma transação
				</p>

				<table class="table" data-ng-show="vm.transactions.length">
					<thead>

						<tr>
							<th class="text--center">
								<a href="" data-ng-click="vm.orderBy('type')">
									Tipo
								</a>
							</th>

							<th>
								<a href="" data-ng-click="vm.orderBy('value')">
									Valor
								</a>
							</th>

							<th>
								Ações
							</th>
						</tr>
					</thead>

					<tbody>
						<tr data-ng-repeat="transaction in vm.transactions | filter:searchCriteria | orderBy:vm.orderCriteria:vm.orderDirection track by transaction.id">
							<td>{{ ::transaction.type }}</td>
							<td>{{ ::transaction.value | currency : 'R$ ' }}</td>
						</tr>
					</tbody>

				</table>
			</section>
		</main>

	</body>
</html>
